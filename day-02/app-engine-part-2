
### Using Variables in Templates
In Jinja  the syntax for interpolating strings is to put the expression between mustaches, like this: {{ variable }}. 

In hello.html, instead of Hello World, write Hello {{ name }}. Now our page will change to greet anyone whose name is stored in the variable 'name'.

### Passing Variables to the Template
But we need to get the variable 'name' from our controller, helloworld.py and pass it to the template, hello.html.

In our helloworld.py:
```python
class HelloHandler(webapp2.RequestHandler):
  def get(self):
    template_vars = {"name": "CSSI Chicago"}
    template = jinja_environment.get_template('templates/hello.html')
    self.response.out.write(template.render(template_vars))
```
Every time we call render(), we can pass it a dictionary of values as an argument. The Python code gets and possibly manipulates the variable. Then the variable is passed to the template using the .render() function.


## Getting Data from the Request

Weâ€™ve made our HelloWorld webapp a little smarter, because we can pass it a dictionary of key-value pairs and use them in the template. But right now that key:value pair is hardcoded in our handler. Instead, let's get the data from the user.


### The GET Method
The GET method is one way to get use data. It receives data based on a the URL. Facebook for example, uses a URL parameter called login_attempt to keep track of how many times you have tried to login.

`https://www.facebook.com/login.php?login_attempt=1`

Everything after the ? in a url is called the query string. 

#### The Query String
Query strings are almost always a set of paired parameter names and values, separated by ampersands (&). A complex one might look like this:

`http://api.umd.io/v0/courses?dept_id=CMSC&semester=201501&credits=3&department=Computer%20Science&grading_method=Audit`

The route is api.umd.io/v0/courses and the url parameters are:

| dept_id       | CMSC        | 
| ------------- |-------------|
| semester      | 20150       | 
| credits       | 3           | 
| department     | Computer Science   | 
|grading_method|Audit|



### Accessing the URL Parameters
You need to use self.request.get() to access the url parameters.

Here's an updated HelloWorld Handler in helloworld.py that gets the 'name' parameter from the url and passes it into the template.
```python
class HelloHandler(webapp2.RequestHandler):
  def get(self):
    template_vars = {'name': self.request.get('name')}
    template = jinja_environment.get_template('templates/hello.html')
    self.response.out.write(template.render(template_vars))
```
Notice that in this handler, we are defining how to respond with the GET method (`def get(self)`). This handler is perfect for getting data from the URL. 

Now we have changed the handler so that it gets a variable 'name' from the URL and passes it to the hello.html template.


### Data from Forms (Post Method)
#### HTML Forms (Review)

The form element has two attributes: _method_ and _action_.
* The _method_ attribute specifies the HTTP method (GET or POST) to be used when submitting the forms. 
  * When you use GET, the form data will be visible in the page's url
  * When you use POST, the submitted data is not visible in the page address
* The _action_ attribute tells which script to run or which page to return to once the submit button is pressed. Since the handler takes care of the response, don't worry about the action attribute and leave it blank. 

```
	<form method="post" action ="">
		<p>Question 1: <input type="text" name="answer1"/></p>
		<p>Question 2: <input type="text" name="answer2"/></p>
		<p><input type="submit" value="Grade my Quiz"></p>
	</form>
```


####Adding the  Post Method
If you use a POST method in your template, you need to add a way for your handler to take care of those post requests.


```python
class MainHandler(webapp2.RequestHandler):
    def get(self):
    	main_template = jinja_environment.get_template('templates/main.html')
    	self.response.out.write(main_template.render())
    def post(self): ##here's the new POST method in the MainHandler
    	self.response.out.write("You have submitted your quiz")
```
In the code above
* When the handler receives a GET request, it's response is to render a template
* When the handler receives a POST request, it's response is to write a message. 

